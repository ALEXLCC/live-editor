{"scratchpad": {"guidelinesUrlPath": "/computer-programming/guidelines/pjs", "contentKindCode": "p", "newUrlPath": "/computer-programming/new/pjs", "hideFromHotlist": false, "spinoffCount": 18, "originScratchpadId": 6223097608929280, "projectEval": null, "isPublished": false, "canvasOnly": false, "originSimilarity": 0.31027996016377118, "id": 5040943629729792, "definitelyNotSpam": false, "editSlug": "edit/p/shine", "category": null, "originRevisionId": 5668600916475904, "title": "Shine", "translatedProjectEval": null, "sendToPeers": false, "slug": "shine", "isChallenge": false, "width": 400, "descriptionHtml": "", "youtubeId": null, "docsUrlPath": "/computer-programming/docs/pjs", "contentKind": "Scratchpad", "type": "scratchpad", "revision": {"tests": "", "code": "/**\n * Shine\n * An entry into the Khan Academy Generative Art Contest by @JPG2000 from Khan Academy\n * All code was created by @JPG2000 from Khan Academy\n * \n * Program last update-2015/6/12 (Improved performance)\n * \n * Something I want to say about this art\n * You may notice that there are some stars that shine brightly and look very large, they shine brighter than all of the others combined. No, there are not stars that are bigger or brighter than all the others, they are all the same; the reason that they shine brighter is because they are near other stars. The light of many stars together exponentially exceeds the light of just one. It's like that in real life as well, when we work together we can create so much more than if we all just sat around competing with each other. Think of the amazing things that we could achieve if we just did something so simple as just sharing our knowledge and helping each other!\n * Hope that inspiration paragraph wasn't TOO cheesy! :P (I felt obligated since this IS art and not just some normal program)\n * \n * Some cool star related quotes\n * \"Every great dream begins with a dreamer. Always remember, you have within you the strength, the patience, and the passion to reach for the stars to change the world.\"\n * -Harriet Tubman\n * \"Shoot for the moon and if you miss you will still be among the stars.\"\n * -Les Brown\n * \"Enthusiasm is the yeast that makes your hopes shine to the stars. Enthusiasm is the sparkle in your eyes, the swing in your gait. The grip of your hand, the irresistible surge of will and energy to execute your ideas.\"\n * -Henry Ford\n * \n * Info about me\n * I live in [[REDACTED STATE]] USA (woot!)\n * I think I'm in 10th grade (if you don't change grades until the next school year then I'm in 9th)\n * What I love about programming-A lot. I enjoy the neverending challenge that programming provides, that there's more than one solution to a problem, the creativity that it requires, and the control that it gives me over the computer.\n * \n * Thanks to Eric Balingit for inadvertently reminding me about performance :P. Also check out his entry here:https://www.khanacademy.org/computer-programming/marblize/5104832794984448\n * The performance of this program is O(n^2) if you know of a way to make it smaller without sacrificing functionality please let me know\n**/\n\nbackground(58, 53, 56);\n\n(function(point, stroke, color, strokeWeight) {\n    //Self executing function so we don't pollute the global namespace (also so that when our code tries to access one of our own variables it won't have to look through EVERY SINGLE PJS function and variable to find them)\n    //Takes in arguments that should be the global point, stroke, and color functions so we can shorten the scope chain and lookup time for them (since they're used at least 1000 times a frame)\n    //Framerate 0 to let the device go at it's own rate\n    frameRate(0);\n    \n    var ang = function(x1, y1, x2, y2) {\n        //A utility function that I created for finding the angle between two points in 2D space\n        var a = atan2(y2 - y1, x2 - x1) + 90;\n        a %= 360;\n        if(a > 360) {\n            a -= 360;\n        } else if(a < 360) {\n            a += 360;\n        }\n        return a;\n    };\n    \n    var gaussian = (function() {\n        var generator = new Random(random(999999));\n        return function(std, m) {\n            //This is a utility function that I like to use for generating normally distributed numbers\n            return generator.nextGaussian() * std + m;\n        };\n    })();\n    \n    //This object shortens the lookup time for non-star related things\n    var starStuff = {};\n    \n    //The element at index 0 of the stars array will never be used, but needs to be there because of how I did loops after optimization\n    starStuff.stars = [0];\n    \n    starStuff.numStars = round(width / 27);\n    \n    var drawPoint = function(x, y, s) {\n        //This function figures out what color a point at the coordinates (x, y) should be\n        //Shorten the lookup for when we try to access the stars array\n        if(!s) {s = starStuff.stars;}\n        var r = 0, g = 0, b = 0, d = 0;\n        for (var i = starStuff.numStars - 1; i; i -= 1) {\n            var d2 = dist(x, y, s[i].x, s[i].y);\n            r += s[i].red / d2 * 10;\n            g += s[i].green / d2 * 10;\n            b += s[i].blue / d2 * 10;\n            d += d2;\n        }\n        d /= starStuff.numStars;\n        strokeWeight(d / 27);\n        stroke(r, g, b, 255 / d * 15);\n        point(x, y);\n    };\n    \n    starStuff.Star = function(x, y) {\n        //This is a constructor function to create a star\n        this.x = x;\n        this.y = y;\n        this.red = random(255);\n        this.green = random(255);\n        this.blue = random(255);\n        this.moveTimer = random(360, 720);\n        this.genGoal();\n        //Define a getter and setter for a non existent property called \"hue\" so we can change the color of our star by just changing hue instead of some complicated rgb math\n        Object.defineProperty(this, \"hue\", {\n            set: function(v) {\n                colorMode(HSB);\n                var c = color(v, 255, 255);\n                colorMode(RGB);\n                this.red = red(c);\n                this.green = green(c);\n                this.blue = blue(c);\n            },\n            get: function() {\n                return hue(color(this.red, this.green, this.blue));\n            }\n        });\n    };\n    \n    starStuff.Star.prototype.genGoal = function() {\n        var gx = random(width);\n        var gy = random(height);\n        this.angle = ang(this.x, this.y, gx, gy);\n        this.speed = dist(this.x, this.y, gx, gy) / this.moveTimer;\n    };\n    \n    //This is like the top scope self executing function. It shortens the lookup time for stuff that the draw prototype needs to access, squeezing more performance out of the code\n    (function(drawPoint, starStuff, gaussian) {\n        starStuff.Star.prototype.draw = function(s) {\n            //This method draws some points around a star (and updates it)\n            //Shorten the lookup for the stars array\n            if(!s) {s = starStuff.stars;}\n            this.moveTimer -= 1;\n            this.hue += 1;\n            if (this.moveTimer <= 0) {\n                this.moveTimer = random(360, 720);\n                //this.hue = random(255);\n                this.genGoal();\n            }\n            this.x += sin(this.angle) * this.speed;\n            this.y -= cos(this.angle) * this.speed;\n            for (var i = 51; i; i -= 1) {\n                drawPoint(gaussian(50, this.x), gaussian(50, this.y), s);\n            }\n        };\n    })(drawPoint, starStuff, gaussian);\n    \n    \n    for (var i = starStuff.numStars - 1; i >= 0; i -= 1) {\n        starStuff.stars.push(new starStuff.Star(random(width), random(height)));\n    }\n    \n    //Speed lookup by deleting an object property that we don't need anymore\n    delete starStuff.Star;\n    \n    var totMs = 0;\n    \n    draw = function() {\n        //The magical draw function that KA hath provided to us!\n        //Performance before optimizations-15 millis per frame\n        //Performance after optimizations-12 millis per frame\n        //Performance goal-10 millis per frame\n        //var ms = millis();\n        //Shorten the lookup for the stars array\n        var s = starStuff.stars;\n        for (var i = starStuff.numStars - 1; i; i -= 1) {\n            s[i].draw(s);\n        }\n        //var ms2 = millis();\n        //println(ms2 - ms);\n        //totMs += ms2 - ms;\n        //println(totMs / frameCount);\n    };\n    \n})(point, stroke, color, strokeWeight);", "created": "2015-06-16T17:16:03Z", "folds": [], "translatedMp3Url": "", "hasAudio": false, "mp3Url": "", "editorType": "ace_pjs", "playback": "", "youtubeId": null, "configVersion": 4, "id": 5653164804014080}, "tests": "", "imagePath": "/computer-programming/shine/5040943629729792/5653164804014080.png", "nodeType": "scratchpad", "description": "", "isProject": false, "tags": [], "translatedDescription": "", "byChild": false, "difficulty": -1, "originIsProject": false, "key": "ag5zfmtoYW4tYWNhZGVteXIXCxIKU2NyYXRjaHBhZBiAgIiz4pb6CAw", "date": "2015-06-16T17:16:03Z", "height": 400, "nodeSlug": "p/shine", "kind": "Scratchpad", "termMap": {"new": "New Program", "guidelines": "Program Guidelines", "restart": "Restart"}, "translatedDescriptionHtml": "", "globalId": "p5040943629729792", "created": "2015-06-10T17:26:28Z", "url": "https://www.khanacademy.org/computer-programming/shine/5040943629729792", "imageUrl": "https://www.khanacademy.org/computer-programming/shine/5040943629729792/5653164804014080.png", "translatedTests": "", "sumVotesIncremented": 92, "defaultUrlPath": null, "flags": [], "relativeUrl": "/computer-programming/shine/5040943629729792", "isProjectOrFork": false, "userAuthoredContentType": "pjs", "kaid": "kaid_615755616877859431940442", "translatedTitle": "Shine"}, "embedded": false, "creatorProfile": {"isSelf": false, "countVideosCompleted": 679, "isParentOfLoggedInUser": false, "isChildAccount": false, "hasChangedAvatar": true, "soundOn": false, "followRequiresApproval": true, "canModifyCoaches": true, "dateJoined": "2012-09-13T18:04:33Z", "hasStudents": false, "isCurator": false, "isPhantom": false, "isCreator": false, "childPageRoot": "/parent/child/JPG2000/", "backgroundSrc": "https://cdn.kastatic.org/images/profile/backgrounds/bg-photon-2.jpg", "isDeveloper": false, "avatarName": "male_robot_donald_style", "affiliations": [], "isModerator": false, "canEvalCsProjects": true, "globalPermissions": [], "profileRoot": "/profile/JPG2000/", "email": "", "username": "JPG2000", "bio": "I am a [[REDACTED]] year old male who enjoys programming and hopes to pursue it as a career. I live in [[REDACTED]] [[REDACTED]]. I am a Christian.", "isPublic": true, "countBrandNewNotifications": 1, "canMessageUsers": false, "isActivityAccessible": false, "isOrphan": false, "backgroundName": "photon-2", "canHellban": false, "includesUserDataInfo": true, "background": {"translatedDisplayName": "Photon Two", "imagePath": "/images/profile/backgrounds/bg-photon-2.jpg", "displayName": "Photon Two", "name": "photon-2", "thumbSrc": "https://cdn.kastatic.org/images/profile/backgrounds/bg-photon-2-preview.png", "translatedRequirements": ["Earn 100,000 energy points"], "rewardType": "profile_background", "thumbnailSrc": "https://cdn.kastatic.org/images/profile/backgrounds/bg-photon-2.jpg", "imageSrc": "https://cdn.kastatic.org/images/profile/backgrounds/bg-photon-2.jpg", "thumbnailPath": "", "thumbPath": "/images/profile/backgrounds/bg-photon-2-preview.png"}, "isDataCollectible": false, "nickname": "JPG2000 (Gamma Guild)", "isCoachingLoggedInUser": false, "canCreateOfficialClarifications": false, "publicBadges": [{"absoluteUrl": "https://www.khanacademy.org/badges/millionaire", "isRetired": false, "safeExtendedDescription": "Earn 1,000,000 energy points", "isOwned": false, "translatedSafeExtendedDescription": "Earn 1,000,000 energy points", "icons": {"small": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "compact": "https://cdn.kastatic.org/images/badges/sun/millionaire-60x60.png", "large": "https://cdn.kastatic.org/images/badges/sun/millionaire-512x512.png", "email": "https://cdn.kastatic.org/images/badges/sun/millionaire-70x70.png"}, "badgeCategory": 3, "translatedDescription": "Millionaire", "name": "millionairebadge", "relativeUrl": "/badges/millionaire", "points": 0, "iconSrc": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "hideContext": false, "slug": "millionaire", "description": "Millionaire"}, {"absoluteUrl": "https://www.khanacademy.org/badges/millionaire", "isRetired": false, "safeExtendedDescription": "Earn 1,000,000 energy points", "isOwned": false, "translatedSafeExtendedDescription": "Earn 1,000,000 energy points", "icons": {"small": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "compact": "https://cdn.kastatic.org/images/badges/sun/millionaire-60x60.png", "large": "https://cdn.kastatic.org/images/badges/sun/millionaire-512x512.png", "email": "https://cdn.kastatic.org/images/badges/sun/millionaire-70x70.png"}, "badgeCategory": 3, "translatedDescription": "Millionaire", "name": "millionairebadge", "relativeUrl": "/badges/millionaire", "points": 0, "iconSrc": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "hideContext": false, "slug": "millionaire", "description": "Millionaire"}, {"absoluteUrl": "https://www.khanacademy.org/badges/millionaire", "isRetired": false, "safeExtendedDescription": "Earn 1,000,000 energy points", "isOwned": false, "translatedSafeExtendedDescription": "Earn 1,000,000 energy points", "icons": {"small": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "compact": "https://cdn.kastatic.org/images/badges/sun/millionaire-60x60.png", "large": "https://cdn.kastatic.org/images/badges/sun/millionaire-512x512.png", "email": "https://cdn.kastatic.org/images/badges/sun/millionaire-70x70.png"}, "badgeCategory": 3, "translatedDescription": "Millionaire", "name": "millionairebadge", "relativeUrl": "/badges/millionaire", "points": 0, "iconSrc": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "hideContext": false, "slug": "millionaire", "description": "Millionaire"}, {"absoluteUrl": "https://www.khanacademy.org/badges/millionaire", "isRetired": false, "safeExtendedDescription": "Earn 1,000,000 energy points", "isOwned": false, "translatedSafeExtendedDescription": "Earn 1,000,000 energy points", "icons": {"small": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "compact": "https://cdn.kastatic.org/images/badges/sun/millionaire-60x60.png", "large": "https://cdn.kastatic.org/images/badges/sun/millionaire-512x512.png", "email": "https://cdn.kastatic.org/images/badges/sun/millionaire-70x70.png"}, "badgeCategory": 3, "translatedDescription": "Millionaire", "name": "millionairebadge", "relativeUrl": "/badges/millionaire", "points": 0, "iconSrc": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "hideContext": false, "slug": "millionaire", "description": "Millionaire"}, {"absoluteUrl": "https://www.khanacademy.org/badges/millionaire", "isRetired": false, "safeExtendedDescription": "Earn 1,000,000 energy points", "isOwned": false, "translatedSafeExtendedDescription": "Earn 1,000,000 energy points", "icons": {"small": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "compact": "https://cdn.kastatic.org/images/badges/sun/millionaire-60x60.png", "large": "https://cdn.kastatic.org/images/badges/sun/millionaire-512x512.png", "email": "https://cdn.kastatic.org/images/badges/sun/millionaire-70x70.png"}, "badgeCategory": 3, "translatedDescription": "Millionaire", "name": "millionairebadge", "relativeUrl": "/badges/millionaire", "points": 0, "iconSrc": "https://cdn.kastatic.org/images/badges/sun/millionaire-40x40.png", "hideContext": false, "slug": "millionaire", "description": "Millionaire"}], "moderatorLevel": 0, "restrictedDomain": null, "allowedByParentToAddAnyCoach": true, "avatarSrc": "https://cdn.kastatic.org/images/avatars/svg/robot_male_2.svg", "kaid": "kaid_615755616877859431940442", "userLocation": {"city": "", "lastModified": "2015-06-22T01:50:48Z", "googlePlacesId": "", "state": "", "displayText": "JPG200's official profile", "country": "", "postalCode": ""}, "points": 1252834, "avatar": {"translatedDisplayName": "Donald", "imagePath": "/images/avatars/svg/robot_male_2.svg", "displayName": "Donald", "name": "male_robot_donald_style", "partType": "style", "translatedRequirements": ["Earn 100,000 energy points"], "forModel": "male_robot", "rewardType": "avatar_reward", "thumbnailSrc": "https://cdn.kastatic.org/images/avatars/svg/robot_male_2.svg", "imageSrc": "https://cdn.kastatic.org/images/avatars/svg/robot_male_2.svg", "thumbnailPath": ""}, "canRecordTutorial": false, "isPublisher": false}, "discussion": {"showProjectFeedback": true, "loggedIn": false, "isDeveloper": false, "communityQuestionsTitle": "Computer Science", "showDocumentation": true, "isVideo": false, "translatedCommunityQuestionsTitle": "Computer Science", "focusId": "5040943629729792", "isOwner": false, "showSpinoffs": true, "which": "scratchpad-questions", "focusKind": "scratchpad", "communityQuestionsUrl": "/computer-programming/d", "canEdit": false, "canRequestFeedback": false, "restrictPosting": false}, "upVoted": false, "originScratchpad": {"category": "official", "deleted": false, "imageUrl": "https://www.khanacademy.org/computer-programming/contest-generative-art/6223097608929280/5649050225344512.png", "sendToPeers": false, "translatedDescription": "", "projectEval": null, "slug": "contest-generative-art", "url": "https://www.khanacademy.org/computer-programming/contest-generative-art/6223097608929280", "revision": {"id": 5668600916475904}, "id": 6223097608929280, "translatedTitle": "Contest: Generative Art"}, "flaggedByUser": false, "downVoted": false, "userScratchpad": {"kind": "UserScratchpad", "msWatched": 0, "isProject": false, "msDuration": null, "challengeStatus": -1, "lastMsWatched": 0, "scratchpadKey": "ag5zfmtoYW4tYWNhZGVteXIXCxIKU2NyYXRjaHBhZBiAgIiz4pb6CAw", "fullyWatched": false, "isComplete": false, "isChallenge": false, "difficulty": -1, "points": 0, "stashedCode": "", "key": "ag5zfmtoYW4tYWNhZGVteXKuAQsSDlVzZXJTY3JhdGNocGFkIpkBYWc1emZtdG9ZVzR0WVdOaFpHVnRlWEpVQ3hJSVZYTmxja1JoZEdFaVJuVnpaWEpmYVdSZmEyVjVYMmgwZEhBNkx5OXBaQzVyYUdGdVlXTmhaR1Z0ZVM1dmNtY3ZOamMyWVRJek1tWm1NREkwTkRJMlpXRTFZMkUzTXpRMk5qQTJPV0ZpWkRVTTo1MDQwOTQzNjI5NzI5NzkyDA", "userKey": "ag5zfmtoYW4tYWNhZGVteXJUCxIIVXNlckRhdGEiRnVzZXJfaWRfa2V5X2h0dHA6Ly9pZC5raGFuYWNhZGVteS5vcmcvNjc2YTIzMmZmMDI0NDI2ZWE1Y2E3MzQ2NjA2OWFiZDUM", "id": "ag5zfmtoYW4tYWNhZGVteXJUCxIIVXNlckRhdGEiRnVzZXJfaWRfa2V5X2h0dHA6Ly9pZC5raGFuYWNhZGVteS5vcmcvNjc2YTIzMmZmMDI0NDI2ZWE1Y2E3MzQ2NjA2OWFiZDUM:5040943629729792", "viewed": true}}